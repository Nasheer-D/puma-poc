<ng-template #paymentWalletModal let-d="dismiss" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content options-modal">
      <div class="container modal-header">
        <div class="row close-button">
          <button type="button" class="close" aria-label="Close" (click)="d()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="row col-md-12">
          <div class="col-lg-12">
            <label class="modal-credits">You choose
              <b>{{itemPrice | number: '1.2-2'}} PumaPay</b> tokens.</label>
          </div>
          <div class="col-lg-12">
            <label class="title-name">Scan to complete your purchase</label>
          </div>
        </div>
      </div>
      <div class="modal-body">
        <div class="container transaction-tool">
          <div class="row">
            <div class="container options-container col-md">
              <div class="col modal-email" *ngIf="completedStatus == 2">
                <label>Connect with your
                  <a href="https://outlook.live.com/owa/?authRedirect=true">email </a> to save this image for later access.</label>
              </div>
              <div class="container qr-container">
                <qrcode [qrdata]="txDataAsString" [size]="150" [level]="'L'"></qrcode>
              </div>
              <div class="col modal-scan-qr">
                <label>Scan a QR code with the app to complete the transaction.</label>
              </div>
              <div class="col modal-link">
                <label>Don't have PumaPay wallet?</label>
              </div>
              <div class="col">
                <div class="container download-option-image col-sm-12">
                  <a href="https://itunes.apple.com/us/genre/ios/id36?mt=8">
                    <img class="app-store-apple" src="../../../assets/images/app-store.png">
                  </a>
                  <a href="https://play.google.com/store?hl=en">
                    <img class="app-store-google" src="../../../assets/images/google-play-badge.png">
                  </a>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="container transaction-progress-container">
                <div class="row">
                  <div class="container transaction-progress" [ngClass]="{'inactiveBackgroundColor': isInactiveRequest()}">
                    <div class="row">
                      <div class="col-sm-9">
                        <label class="transaction-text" [ngClass]="{'transaction-text-inactive': isInactiveRequest()}">Sending transaction request</label>
                        <div class="span status" *ngIf="isInactiveRequest()">Waiting</div>
                        <div class="span status" *ngIf="isPendingRequest()">In Progress...</div>
                        <div class="span status" *ngIf="isClosedRequest()">Complete</div>
                      </div>
                      <div class="col-sm-3">
                        <label class="numberLayout" *ngIf="isInactiveRequest()">1</label>
                        <app-loading-spinner *ngIf="isPendingRequest()"></app-loading-spinner>
                        <img src="../../../../../assets/images/success-btn.png" class="imageSizeSuccess" *ngIf="isClosedRequest()">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="container transaction-progress" [ngClass]="{'inactiveBackgroundColor': isInactiveResponse()}">
                    <div class="row">
                      <div class="col-sm-9">
                        <label class="transaction-text" [ngClass]="{'transaction-text-inactive': isInactiveResponse()}">Transaction response</label>
                        <div class="span status" *ngIf="isInactiveResponse()">Waiting</div>
                        <div class="span status" *ngIf="isPendingResponse()">In Progress...</div>
                        <div class="span status" *ngIf="isClosedResponse()">Complete</div>
                      </div>
                      <div class="col-sm-3">
                        <label class="numberLayout" *ngIf="isInactiveResponse()">2</label>
                        <app-loading-spinner *ngIf="isPendingResponse()"></app-loading-spinner>
                        <img src="../../../../../assets/images/success-btn.png" class="imageSizeSuccess" *ngIf="isClosedResponse()">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="container transaction-progress" [ngClass]="{'inactiveBackgroundColor': isInactiveStatus(), 
                  'border-failed-transaction': isFailedStatus(), 
                  'border-succesfull-transaction': isSucccessfulStatus()}">
                    <div class="row">
                      <div class="col-sm-9">
                        <label class="transaction-text" [ngClass]="{'transaction-text-inactive': isInactiveStatus()}">Transaction status</label>
                        <div class="span status" *ngIf="isInactiveStatus()">Waiting</div>
                        <div class="span status" *ngIf="isPendingStatus()">In Progress...</div>
                        <div class="span status" *ngIf="isSucccessfulStatus()">Transation has been approved!</div>
                        <div class="span status" *ngIf="isFailedStatus()">Transation was failed.Try again.</div>
                      </div>
                      <div class="col-sm-3">
                        <label class="numberLayout" *ngIf="isInactiveStatus()">3</label>
                        <app-loading-spinner *ngIf="isPendingStatus()"></app-loading-spinner>
                        <img src="../../../../../assets/images/success-btn.png" class="imageSizeSuccess" *ngIf="isSucccessfulStatus()">
                        <img src="../../../../../assets/images/fail-btn.png" class="imageSizeFail" *ngIf="isFailedStatus()">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="container">
                <div class="row">
                  <div class="col-6">
                    <button class="btn btn-outline-primary btn-layout">See your balance</button>
                  </div>
                  <div class="row-6 ">
                    <button class="btn btn-outline-primary btn-layout" (click)="d() " *ngIf="isInactiveStatus() || isPendingStatus()">Back to image</button>
                    <button class="btn btn-outline-primary btn-layout" (click)="d() " *ngIf="isSucccessfulStatus()">Download Image</button>
                    <button class="btn btn-outline-primary btn-layout" (click)="d() " *ngIf="isFailedStatus()">Try Again</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
